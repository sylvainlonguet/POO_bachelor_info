## Héritage

### Pourquoi hériter ?
Une classe peut hériter d'une classe mère. Cela permet de 
- gagner du temps (et des lignes de code) sur l'écriture d'une classe lorsqu'une classe existe déjà etrépond presuqe entièrement au cahier des charges
- garder une compatibilité  entre classe fillle et classe mère
- Profiter des évolutions de la classe mère et les répercuter dans les classes filles
- Garder une architecture lisible et cohérente dans un projet.


### Réécriture de méthodes

Lorsqu'une classe hérite d'une autre, elle peut : 
- définir de nouveaux membres
- réécrire (override) des méthodes existantes ou des constructeurs
- redéfinir des méthodes avec de nouvelles signatures (paramètres et types de retour)

### Exemple en java
```java
// Classe mère
class Vehicule {
    String marque;

    Vehicule(String marque) {
        this.marque = marque;
    }

    void demarrer() {
        System.out.println(marque + " démarre...");
    }
}

// Classe fille
class Voiture extends Vehicule {
    int nbPortes;

    Voiture(String marque, int nbPortes) {
        super(marque); // appel au constructeur de la classe mère
        this.nbPortes = nbPortes;
    }

    void afficherInfos() {
        System.out.println("Marque : " + marque + ", Portes : " + nbPortes);
    }
}

// Utilisation
public class Main {
    public static void main(String[] args) {
        Voiture v = new Voiture("Renault", 5);
        v.demarrer();         // méthode héritée
        v.afficherInfos();    // méthode spécifique
    }
}
```

### Exemple en Python

```python
# Classe mère
class Vehicule:
    def __init__(self, marque):
        self.marque = marque

    def demarrer(self):
        print(f"{self.marque} démarre...")

# Classe fille
class Voiture(Vehicule):
    def __init__(self, marque, nb_portes):
        super().__init__(marque)  # appel au constructeur de la classe mère
        self.nb_portes = nb_portes

    def afficher_infos(self):
        print(f"Marque : {self.marque}, Portes : {self.nb_portes}")

# Utilisation
v = Voiture("Renault", 5)
v.demarrer()        # méthode héritée
v.afficher_infos()  # méthode spécifique

```

### Exemple en php

```php
<?php
// Classe mère
class Vehicule {
    public $marque;

    public function __construct($marque) {
        $this->marque = $marque;
    }

    public function demarrer() {
        echo $this->marque . " démarre...\n";
    }
}

// Classe fille
class Voiture extends Vehicule {
    public $nbPortes;

    public function __construct($marque, $nbPortes) {
        parent::__construct($marque); // appel au constructeur de la classe mère
        $this->nbPortes = $nbPortes;
    }

    public function afficherInfos() {
        echo "Marque : {$this->marque}, Portes : {$this->nbPortes}\n";
    }
}

// Utilisation
$v = new Voiture("Renault", 5);
$v->demarrer();        // méthode héritée
$v->afficherInfos();   // méthode spécifique
?>
```

### Accéder à la classe mère

Dans certains cas, une méthode peut avoir besoin d'invoquer la méthode telle qu'elle définie au niveau N+1.

Exemple courant : la classe VeloElectrique, qui hérite de Velo redéfinie la méthode "entretenir()" :

On souhaite que cette méthode fasse la même chose que dans la classe supérieure (Velo) mais avec quelques actions en +...

==> C'est là qu'intervient le mot-clé "super"

Exemple en java :

```java
// Classe mère
class Velo {
    void entretenir() {
        System.out.println("Nettoyer le cadre et huiler la chaîne.");
    }
}

// Classe fille
class VeloElectrique extends Velo {
    @Override
    void entretenir() {
        // Appel de la méthode de la classe mère
        super.entretenir();
        // Actions supplémentaires spécifiques au vélo électrique
        System.out.println("Vérifier la batterie et les composants électriques.");
    }
}

// Utilisation
public class Main {
    public static void main(String[] args) {
        VeloElectrique ve = new VeloElectrique();
        ve.entretenir();
    }
}
```
en c# :

```c#
using System;

// Classe mère
class Velo {
    public virtual void Entretenir() {
        Console.WriteLine("Nettoyer le cadre et huiler la chaîne.");
    }
}

// Classe fille
class VeloElectrique : Velo {
    public override void Entretenir() {
        // Appel de la méthode de la classe mère
        base.Entretenir();
        // Actions supplémentaires spécifiques au vélo électrique
        Console.WriteLine("Vérifier la batterie et les composants électriques.");
    }
}

// Utilisation
class Program {
    static void Main() {
        VeloElectrique ve = new VeloElectrique();
        ve.Entretenir();
    }
}
```
